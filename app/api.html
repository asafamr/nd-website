<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>NDJS installer framework</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw==" crossorigin="anonymous">
  <link href='https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link href="css/prism.css" rel="stylesheet" type='text/css'>
  <link href="css/api.css" rel="stylesheet" type='text/css'>
</head>

<body id="page-top" class="index">
  <div class="container">
    <div class="col-xs-3 left-side">
      <a href="/"><div class="duck-icon"></div></a>
      <div class="header-title">NDJS API</div>
      <div class="header-spacer"></div>
      <a href="#ndfile"><div class="dox-menu-component">ndfile.js</div></a>
      <a href="#changelog"><div class="dox-menu-component">Change log</div></a>
      <!--start-menu-->

<!-- rendered automatically -->
<div class="dox-menu-side-menu">
  <div class="dox-menu-front">
    <div class="dox-menu-component">nd-angular</div>
    <div class="dox-menu-services">
      <h4>Services</h4>
      <div class="dox-menu-service">
        <a href="ndJobManager"><div class="dox-menu-service-name">ndJobManager</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#ndJobManager-startJob"><div class="dox-menu-method-name">
              startJob
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndJobManager-getJobProgress"><div class="dox-menu-method-name">
              getJobProgress
            </div></a>
          </div>
        </div>
      </div>
      <div class="dox-menu-service">
        <a href="ndPager"><div class="dox-menu-service-name">ndPager</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#ndPager-gotoPageName"><div class="dox-menu-method-name">
              gotoPageName
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndPager-gotoPageNumber"><div class="dox-menu-method-name">
              gotoPageNumber
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndPager-registerBeforeLeaveCallback"><div class="dox-menu-method-name">
              registerBeforeLeaveCallback
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndPager-backEnabled"><div class="dox-menu-method-name">
              backEnabled
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndPager-nextEnabled"><div class="dox-menu-method-name">
              nextEnabled
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndPager-goNextPage"><div class="dox-menu-method-name">
              goNextPage
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndPager-goBackPage"><div class="dox-menu-method-name">
              goBackPage
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndPager-getPageNumber"><div class="dox-menu-method-name">
              getPageNumber
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndPager-preventBackFromHere"><div class="dox-menu-method-name">
              preventBackFromHere
            </div></a>
          </div>
        </div>
      </div>
      <div class="dox-menu-service">
        <a href="ndActions"><div class="dox-menu-service-name">ndActions</div></a>
      </div>
      <div class="dox-menu-service">
        <a href="ndNotifications"><div class="dox-menu-service-name">ndNotifications</div></a>
      </div>
      <div class="dox-menu-service">
        <a href="ndWindow"><div class="dox-menu-service-name">ndWindow</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#ndWindow-close"><div class="dox-menu-method-name">
              close
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndWindow-minimize"><div class="dox-menu-method-name">
              minimize
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#ndWindow-toggleFullscreen"><div class="dox-menu-method-name">
              toggleFullscreen
            </div></a>
          </div>
        </div>
      </div>
    </div>
    <div class="dox-menu-directives">
      <h4>Directives</h4>
      <div class="dox-menu-service">
        <a href="#ndDirSelect"><div class="dox-menu-service-name">ndDirSelect</div></a>

      </div>
      <div class="dox-menu-service">
        <a href="#ndPager"><div class="dox-menu-service-name">ndPager</div></a>

      </div>
      <div class="dox-menu-service">
        <a href="#ndWindowFrame"><div class="dox-menu-service-name">ndWindowFrame</div></a>

      </div>
    </div>
  </div>
  <div class="dox-menu-back">
    <div class="dox-menu-component">nd-node</div>
    <div class="dox-menu-modules">
      <h4>Modules</h4>
      <div class="dox-menu-module">
        <a href="#config"><div class="dox-menu-module-name">config</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#config-getInstallerStage"><div class="dox-menu-method-name">
              getInstallerStage
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#config-getConfig"><div class="dox-menu-method-name">
              getConfig
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#config-getOutgoingDir"><div class="dox-menu-method-name">
              getOutgoingDir
            </div></a>
          </div>
        </div>
      </div>
      <div class="dox-menu-module">
        <a href="#fs"><div class="dox-menu-module-name">fs</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#fs-getWorkingDir"><div class="dox-menu-method-name">
              getWorkingDir
            </div></a>
          </div>
        </div>
      </div>
      <div class="dox-menu-module">
        <a href="#job"><div class="dox-menu-module-name">job</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#job-getAllJobs"><div class="dox-menu-method-name">
              getAllJobs
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#job-getRegisteredJobTypes"><div class="dox-menu-method-name">
              getRegisteredJobTypes
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#job-getAllJobs"><div class="dox-menu-method-name">
              getAllJobs
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#job-startJob"><div class="dox-menu-method-name">
              startJob
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#job-cancelNamedJob"><div class="dox-menu-method-name">
              cancelNamedJob
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#job-releasePendingJob"><div class="dox-menu-method-name">
              releasePendingJob
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#job-startNamedJob"><div class="dox-menu-method-name">
              startNamedJob
            </div></a>
          </div>
        </div>
        <div class="dox-menu-corejobs">
        <h4>Core jobs</h4>
        <div class="dox-menu-jobs">
          <div class="dox-menu-job">
              <a href="#job-copy"><div class="dox-menu-job-name">copy</div></a>
          </div>
          <div class="dox-menu-job">
              <a href="#job-multi"><div class="dox-menu-job-name">multi</div></a>
          </div>
          <div class="dox-menu-job">
              <a href="#job-sfx"><div class="dox-menu-job-name">sfx</div></a>
          </div>
        </div>
      </div>
      </div>
      <div class="dox-menu-module">
        <a href="#notifications"><div class="dox-menu-module-name">notifications</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#notifications-getNotificationsFromIdx"><div class="dox-menu-method-name">
              getNotificationsFromIdx
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#notifications-pushNotification"><div class="dox-menu-method-name">
              pushNotification
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#notifications-listenToNotifications"><div class="dox-menu-method-name">
              listenToNotifications
            </div></a>
          </div>
        </div>
      </div>
      <div class="dox-menu-module">
        <a href="#pages"><div class="dox-menu-module-name">pages</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#pages-getPages"><div class="dox-menu-method-name">
              getPages
            </div></a>
          </div>
        </div>
      </div>
      <div class="dox-menu-module">
        <a href="#state"><div class="dox-menu-module-name">state</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#state-getSettings"><div class="dox-menu-method-name">
              getSettings
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#state-setSettings"><div class="dox-menu-method-name">
              setSettings
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#state-parseTemplate"><div class="dox-menu-method-name">
              parseTemplate
            </div></a>
          </div>
        </div>
      </div>
      <div class="dox-menu-module">
        <a href="#state"><div class="dox-menu-module-name">state</div></a>
        <div class="dox-menu-methods">
          <div class="dox-menu-method">
            <a href="#state-getRegisteredActions"><div class="dox-menu-method-name">
              getRegisteredActions
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#state-registerAction"><div class="dox-menu-method-name">
              registerAction
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#state-pushNotification"><div class="dox-menu-method-name">
              pushNotification
            </div></a>
          </div>
          <div class="dox-menu-method">
            <a href="#state-getSortedByDepends"><div class="dox-menu-method-name">
              getSortedByDepends
            </div></a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end rendered automatically-->

<!--end-menu-->
    </div>
    <div  class="col-xs-9 right-side">
      <div class="api-packages">
        <h3>NDJS components:</h3>
        <ul>
          <li><div class="package-name">nd-node<span class="language">JavaScript - npm</span> <a class="gitlink" href="https://github.com/asafamr/nd-node"><i class="fa fa-github"></i></a></div>
            <div class="package-desc">Node backend - file operations, jobs spawining and monitoring, configuration parsing etc...</div></li>

            <li><div class="package-name">nd-angular<span class="language">JavaScript - bower</span> <a class="gitlink" href="https://github.com/asafamr/nd-angular"><i class="fa fa-github"></i></a></div>
              <div class="package-desc">Angular frontend - pages rendering, UI serivces and directives</div></li>

              <li><div class="package-name">nd-grunt<span class="language">JavaScript - npm</span> <a class="gitlink" href="https://github.com/asafamr/nd-grunt"><i class="fa fa-github"></i></a></div>
                <div class="package-desc">Tasks for compiling and debugging installers : <br> <b>nd_debug</b> task allows easiser developing in a browser based environment
                  <br><b>nd_compile</b> creates an executable using nd-pack</div></li>

                  <li><div class="package-name">nd-pack<span class="language">C++</span>
                    <a class="gitlink" href="https://github.com/asafamr/nd-pack"><i class="fa fa-github"></i></a>
                  </div>
                  <div class="package-desc">Compiles nd-extract, nwjs, frontend, backend and compressed files to one executable</div></li>

                  <li><div class="package-name">nd-extract<span class="language">C++</span> <a class="gitlink" href="https://github.com/asafamr/nd-pack"><i class="fa fa-github"></i></a></div>
                    <div class="package-desc">Self extractor component - extracts what nd-pack bundles</div></li>

                    <li><div class="package-name">peml<span class="language">C++</span> <a class="gitlink" href="https://github.com/asafamr/peml"><i class="fa fa-github"></i></a></div>
                      <div class="package-desc">Windows PE metadata editing lib used by nd-pack</div></li>

                      <li><div class="package-name">nd-website<span class="language">JavaScript, HTML</span> <a class="gitlink" href="https://github.com/asafamr/nd-website"><i class="fa fa-github"></i></a></div>
                        <div class="package-desc">This website (including this page. Sooo meta...)</div></li>

                        <li><div class="package-name">nd-proj<span class="language">JavaScript, HTML</span> <a class="gitlink" href="https://github.com/asafamr/nd-proj"><i class="fa fa-github"></i></a></div>
                          <div class="package-desc">NDJS starter project</div></li>

                          </ul>
                        </div>
                        <div class="ndfile">
                          <a name="ndfile"></a>
                          <h3>ndfile.js format</h3>
                          <p>ndfile.js is the installer configuration file.
                            It defines pages (UI HTML views) and
                            jobs(time consuming Node operations such as extraction or download).</p>
                            <p>Pages and jobs are mapped to install stages.
                              <br>An example : <br>installer with 'install' stage that have an End user license page,
                              an extraction progress page and an extraction job.
                              <br>'uninstall' stage with deletion progress page and delete job.
                            </p>
                            An example ndfile.js:
<pre><code class="language-javascript">
  module.exports = function (ndjs) {
  'use strict';
      ndjs.initConfig(
  {
    'options':
    {
      /*UI views directory*/
      'frontend':'front',

      /*custom NDJS modules directory*/
      'backend':'back',

      ,/*directory of file to be compressed and distibuted with installer*/
      'outgoing':'outgoing'

      /*directory of other assets - icon for example*/
      'etc':'etc',

      /*will be included in nwjs setting file:
      https://github.com/nwjs/nw.js/wiki/manifest-format#window-subfields */
      'window':
      {
        'frame':false,
        'toolbar': true,
        'width': 720,
        'height': 440,
  	    'icon': 'images/duck.png'
      },
      /* meta fields of exe*/
      'description':'my first NDJS installer',
      'productname':'my NDJS installer',
      'company':'ACME',
      'version':'1.0.0.0',
      'icon':'duck.ico'
    },
    /*install stage*/
  	'install':
  	{
  		'pages':  /*install stage pages*/
  		[
        'welcome','eula','config','extract','conclusion','abort'
  		],
  		'jobs':/*install stage jobs*/
  		{
        'main':
  			{'type':'multi','settings':{'subJobs':[
  				{'type':'sfx','settings':{'files':[
            {'from':'tomcat','to':'<%=user.config.installDir%>','size':14},
            {'from':'jre','to':'<%=user.config.installDir%>/jre','size':94},
            {'from':'webapp','to':'<%=user.config.installDir%>/webapps/ROOT','size':0}]}},
          {'type':'myConfig'}
  			]}}
  		}
  	},
    /*uninstall stage*/
  	'uninstall':
  	{
  		'pages':/*uninstall stage pages*/
      [
        'confirm','uninstallprogress','bye'
  		],
  		'jobs':{/*uninstall stage jobs*/
      'remove':
        {'type':'delete','settings':{}}
  	}}
  });
  };

</code></pre>
                        </div>
                        <div class="changelog">
                          <a name="changelog"></a>
                          <h3>Change log</h3>
                          <ul>
                            <li><h4>Version 0.2.0</h4>
                              nd-node: Jobs module redesigned to allow jobs to enter pending status and wait for user decisions.
                              extract job renamed to sfx.
                              copy job created.
                              all builtin UI actions renamed to module_action.
                              <br>nd-angular: job pending support. ui events renamed to ui notifications. added page leave callback to ndPager.
                              <br>nd-proj: added modal service job pending support
                            </li>
                          </ul>
                        </div>
                        <div class="row">
                          <h2>JavaScript components API</h2>
                          <!--start-main-->
<!-- rendered automatically-->



<div class="dox-front">
  <h3>nd-angular</h3>
  <div class="dox-module-description">
ndAngular module includes directives and services - the NDJS framework frontend
note:the module waits for NDJS backend to be ready and then bootstraps angular and registers all ndjs pages as urls</div>
  <div class="dox-services">
    <h3>services</h3>
    <div class="dox-service" >
      <a name="ndJobManager"></a>
      <div class="dox-service-name">ndJobManager</div>
      <div class="dox-service-description">starts, queries ndjs jobs progress</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="ndJobManager-startJob"></a>
          <div class="dox-method-sign">ndJobManager.startJob(jobName,force,pendingCallback)</div>
          <div class="dox-service-description">Description: start a job by name</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">jobName</div>
              <div class="dox-param-type">String</div>
              <div class="dox-param-description">name of the job to start</div>
            </li>
            <li>
              <div class="dox-param-name">force</div>
              <div class="dox-param-type">Boolean</div>
              <div class="dox-param-description">start even it has already started before</div>
            </li>
            <li>
              <div class="dox-param-name">pendingCallback</div>
              <div class="dox-param-type">Function</div>
              <div class="dox-param-description">called when job is waiting for user decision on error - pendingCallback(err,details,options,answerCallback) example in https://github.com/asafamr/nd-proj/blob/master/front/views/extract/extract.controller.js</div>
            </li>
          </ul>
        </div>
        <div class="dox-method" >
          <a name="ndJobManager-getJobProgress"></a>
          <div class="dox-method-sign">ndJobManager.getJobProgress(jobName)</div>
          <div class="dox-service-description">Description: gets a job progress</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">jobName</div>
              <div class="dox-param-type">String</div>
              <div class="dox-param-description">name of the job to query</div>
            </li>
          </ul>
          <div class="dox-service-return">Returns: {Number} job progress between 0 and 1 (1&#x3D;completed)</div>
        </div>
      </div>
    </div>
    <div class="dox-service" >
      <a name="ndPager"></a>
      <div class="dox-service-name">ndPager</div>
      <div class="dox-service-description">manages ndjs pages changes</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="ndPager-gotoPageName"></a>
          <div class="dox-method-sign">ndPager.gotoPageName(pageName)</div>
          <div class="dox-service-description">Description: goto to page named {pageName}.</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">pageName</div>
              <div class="dox-param-type">String</div>
              <div class="dox-param-description">target page name</div>
            </li>
          </ul>
          <div class="dox-service-example">Example: gotoPageName(&#x27;abort&#x27;)</div>
        </div>
        <div class="dox-method" >
          <a name="ndPager-gotoPageNumber"></a>
          <div class="dox-method-sign">ndPager.gotoPageNumber(pageNum)</div>
          <div class="dox-service-description">Description: goto to page number {pageNum}. out of boundries index generate error - does not enforce next enabled,disabled etc...</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">pageNum</div>
              <div class="dox-param-type">Number</div>
              <div class="dox-param-description">target page number</div>
            </li>
          </ul>
          <div class="dox-service-example">Example: gotoPageNumber(5)</div>
        </div>
        <div class="dox-method" >
          <a name="ndPager-registerBeforeLeaveCallback"></a>
          <div class="dox-method-sign">ndPager.registerBeforeLeaveCallback(function)</div>
          <div class="dox-service-description">Description: register a function to be called before leaving current page. The function will get as param the next page number. Promises are resolved and then if the callback function return a falsy value, the page leave is aborted</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">function</div>
              <div class="dox-param-type">callback</div>
              <div class="dox-param-description">to call when page leave is required</div>
            </li>
          </ul>
          <div class="dox-service-example">Example: registerBeforeLeaveCallback(myFunc) with function myFunc(nextPageNumber)</div>
        </div>
        <div class="dox-method" >
          <a name="ndPager-backEnabled"></a>
          <div class="dox-method-sign">ndPager.backEnabled(setEnabled)</div>
          <div class="dox-service-description">Description: queries or sets if back option enabled</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">setEnabled</div>
              <div class="dox-param-type">Boolean</div>
              <div class="dox-param-description">(optional) enables/disables go back option</div>
            </li>
          </ul>
          <div class="dox-service-return">Returns: returns true if back option is enabled</div>
          <div class="dox-service-example">Example: backEnabled() backEnabled(false)</div>
        </div>
        <div class="dox-method" >
          <a name="ndPager-nextEnabled"></a>
          <div class="dox-method-sign">ndPager.nextEnabled(setEnabled)</div>
          <div class="dox-service-description">Description: queries or sets if next option enabled</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">setEnabled</div>
              <div class="dox-param-type">Boolean</div>
              <div class="dox-param-description">(optional) enables/disables go next option</div>
            </li>
          </ul>
          <div class="dox-service-return">Returns: returns true if back next is enabled</div>
          <div class="dox-service-example">Example: nextEnabled() nextEnabled(false)</div>
        </div>
        <div class="dox-method" >
          <a name="ndPager-goNextPage"></a>
          <div class="dox-method-sign">ndPager.goNextPage()</div>
          <div class="dox-service-description">Description: go to the next page</div>
        </div>
        <div class="dox-method" >
          <a name="ndPager-goBackPage"></a>
          <div class="dox-method-sign">ndPager.goBackPage()</div>
          <div class="dox-service-description">Description: go back to the previous page</div>
        </div>
        <div class="dox-method" >
          <a name="ndPager-getPageNumber"></a>
          <div class="dox-method-sign">ndPager.getPageNumber()</div>
          <div class="dox-service-description">Description: get current page index</div>
          <div class="dox-service-return">Returns: {Number} page number</div>
        </div>
        <div class="dox-method" >
          <a name="ndPager-preventBackFromHere"></a>
          <div class="dox-method-sign">ndPager.preventBackFromHere()</div>
          <div class="dox-service-description">Description: set back disabled from this page (for example, if you finished a job and want to prevent going back to its configuration page)</div>
        </div>
      </div>
    </div>
    <div class="dox-service" >
      <a name="ndActions"></a>
      <div class="dox-service-name">ndActions</div>
      <div class="dox-service-description">interface for ui actions registered from the NDJS backend. Actions are injected to this service as native functions that return a promise</div>
    </div>
    <div class="dox-service" >
      <a name="ndNotifications"></a>
      <div class="dox-service-name">ndNotifications</div>
      <div class="dox-service-description">Handles notification pushed from the backend to the UI.
Uses angular broadcast to send notifications. check the job manager for notifications handling</div>
    </div>
    <div class="dox-service" >
      <a name="ndWindow"></a>
      <div class="dox-service-name">ndWindow</div>
      <div class="dox-service-description">handles winodow minimization, maximization and close</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="ndWindow-close"></a>
          <div class="dox-method-sign">ndWindow.close()</div>
          <div class="dox-service-description">Description: closes the window. on browser debug mode does nothing</div>
        </div>
        <div class="dox-method" >
          <a name="ndWindow-minimize"></a>
          <div class="dox-method-sign">ndWindow.minimize()</div>
          <div class="dox-service-description">Description: minimize the window. on browser debug mode does nothing</div>
        </div>
        <div class="dox-method" >
          <a name="ndWindow-toggleFullscreen"></a>
          <div class="dox-method-sign">ndWindow.toggleFullscreen()</div>
          <div class="dox-service-description">Description: toggle window maximization. on browser debug mode does nothing</div>
        </div>
      </div>
    </div>
  </div>
  <div class="dox-directives">
    <h3>directives</h3>
    <div class="dox-directive">
      <a name="ndDirSelect"></a>
      <div class="dox-directive-name">ndDirSelect</div>
      <div class="dox-directive-description">Description: directory selection &lt;input&gt; - consists of a text input and a button that opens a pick dialog</div>
      Parameters:
      <ul class="dox-method-params">
        <li>
          <div class="dox-param-name">dir</div>
          <div class="dox-param-type">Object</div>
          <div class="dox-param-description">two way bound to dir selected</div>
        </li>
        <li>
          <div class="dox-param-name">inputClass</div>
          <div class="dox-param-type">String</div>
          <div class="dox-param-description">css class for the &lt;input&gt; text field</div>
        </li>
        <li>
          <div class="dox-param-name">buttonClass</div>
          <div class="dox-param-type">String</div>
          <div class="dox-param-description">css class for the select button</div>
        </li>
        <li>
          <div class="dox-param-name">buttonText</div>
          <div class="dox-param-type">String</div>
          <div class="dox-param-description">button text</div>
        </li>
      </ul>
      <div class="dox-directive-example">Example: &lt;nd-dir-select dir&#x3D;&quot;vm.selectedDir&quot; input-class&#x3D;&quot;dir-sel-text-1&quot; button-class&#x3D;&quot;dir-sel-text-1&quot; button-text&#x3D;&quot;Choose...&quot;&gt;</div>
    </div>
    <div class="dox-directive">
      <a name="ndPager"></a>
      <div class="dox-directive-name">ndPager</div>
      <div class="dox-directive-description">Description: pager with next and back button - sends commands to the pager service</div>
      Parameters:
      <ul class="dox-method-params">
        <li>
          <div class="dox-param-name">nextText</div>
          <div class="dox-param-type">String</div>
          <div class="dox-param-description">html for the next button content</div>
        </li>
        <li>
          <div class="dox-param-name">backText</div>
          <div class="dox-param-type">String</div>
          <div class="dox-param-description">html for the back button content</div>
        </li>
      </ul>
      <div class="dox-directive-example">Example: &lt;nd-pager next-text&#x3D;&quot;continue&quot; back-text&#x3D;&quot;back&quot;&gt;</div>
    </div>
    <div class="dox-directive">
      <a name="ndWindowFrame"></a>
      <div class="dox-directive-name">ndWindowFrame</div>
      <div class="dox-directive-description">Description: has 3 buttons that sends events to the window service - minimize, maximize toggle and close</div>
      Parameters:
      <ul class="dox-method-params">
        <li>
          <div class="dox-param-name">showMin</div>
          <div class="dox-param-type">Boolean</div>
          <div class="dox-param-description">ng-show for minimize button (defualt true)</div>
        </li>
        <li>
          <div class="dox-param-name">showToggleFullscreen</div>
          <div class="dox-param-type">Boolean</div>
          <div class="dox-param-description">ng-show for toggle maximize button (defualt true)</div>
        </li>
        <li>
          <div class="dox-param-name">showClose</div>
          <div class="dox-param-type">Boolean</div>
          <div class="dox-param-description">ng-show for toggle maximize button (defualt true)</div>
        </li>
      </ul>
      <div class="dox-directive-example">Example: &lt;nd-window-frame show-toggle-fullscreen&#x3D;&quot;false&quot;&gt;</div>
    </div>
  </div>
</div>

<div class="dox-back">
  <h3>nd-node</h3>
  <div class="dox-modules">
    <h3>modules</h3>
    <div class="dox-module">
      <a name="config"></a>
      <div class="dox-module-name">config</div>
      <div class="dox-module-description">gets configurations from ndjs file according to the current installer stage. parses templates through the state module</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="config-getInstallerStage"></a>
          <div class="dox-method-sign">config.getInstallerStage()</div>
          <div class="dox-module-return">Returns: current installer stage (&#x27;install&#x27;, &#x27;uninstall&#x27; etc...)</div>
        </div>
        <div class="dox-method" >
          <a name="config-getConfig"></a>
          <div class="dox-method-sign">config.getConfig(path)</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">path</div>
              <div class="dox-param-description">{String} property path</div>
            </li>
          </ul>
          <div class="dox-module-return">Returns: parsed value of the property if found</div>
          <div class="dox-module-example">Example: getConfig(&#x27;pages[2]&#x27;) will return the 3rd page in the current install stage</div>
        </div>
        <div class="dox-method" >
          <a name="config-getOutgoingDir"></a>
          <div class="dox-method-sign">config.getOutgoingDir()</div>
          <div class="dox-module-return">Returns: outgoing dir (should not be used on production)</div>
        </div>
      </div>
    </div>
    <div class="dox-module">
      <a name="fs"></a>
      <div class="dox-module-name">fs</div>
      <div class="dox-module-description">file system operations</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="fs-getWorkingDir"></a>
          <div class="dox-method-sign">fs.getWorkingDir()</div>
          <div class="dox-module-description">Description: registered as uiAction fs_getWorkingDir</div>
          <div class="dox-module-return">Returns: current working dir</div>
        </div>
      </div>
    </div>
    <div class="dox-module">
      <a name="job"></a>
      <div class="dox-module-name">job</div>
      <div class="dox-module-description">job queue operations</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="job-getAllJobs"></a>
          <div class="dox-method-sign">job.getAllJobs()</div>
          <div class="dox-module-description">Description: registered as UI action</div>
          <div class="dox-module-return">Returns: return all jobs names from the current install stage in ndfile</div>
        </div>
        <div class="dox-method" >
          <a name="job-getRegisteredJobTypes"></a>
          <div class="dox-method-sign">job.getRegisteredJobTypes()</div>
          <div class="dox-module-return">Returns: all registered job types and creation callbacks</div>
        </div>
        <div class="dox-method" >
          <a name="job-getAllJobs"></a>
          <div class="dox-method-sign">job.getAllJobs(path)</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">path</div>
              <div class="dox-param-description">{String} property path</div>
            </li>
          </ul>
          <div class="dox-module-return">Returns: parsed value of the property if found</div>
          <div class="dox-module-example">Example: getConfig(&#x27;pages[2]&#x27;) will return the 3rd page in the current install stage</div>
        </div>
        <div class="dox-method" >
          <a name="job-startJob"></a>
          <div class="dox-method-sign">job.startJob(jobType,settings,callbackProgress,callbackCancelCalled,callbackPend)</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">jobType</div>
              <div class="dox-param-description">{String} type of job to strart</div>
            </li>
            <li>
              <div class="dox-param-name">settings</div>
              <div class="dox-param-description">{Object} settings of job instance</div>
            </li>
            <li>
              <div class="dox-param-name">callbackProgress</div>
              <div class="dox-param-description">{Function} callback to report progress - should pass a number between 0(no progress) and 1 (job done)</div>
            </li>
            <li>
              <div class="dox-param-name">callbackCancelCalled</div>
              <div class="dox-param-description">{Function} callback to be called for checking if job cancel was asked - should return true if should cancel</div>
            </li>
            <li>
              <div class="dox-param-name">callbackPend</div>
              <div class="dox-param-description">{Function} callback to be called when job is waiting for user decisions. check copy core job for refernce</div>
            </li>
          </ul>
          <div class="dox-module-return">Returns: promise of the new job or throws error</div>
          <div class="dox-module-example">Example: startJob(&#x27;extract&#x27;,{&#x27;files&#x27;:[{&#x27;from&#x27;:&#x27;a&#x27;,&#x27;to&#x27;:&#x27;b&#x27;,&#x27;size&#x27;:109}]}) will start extracting from a to b</div>
        </div>
        <div class="dox-method" >
          <a name="job-cancelNamedJob"></a>
          <div class="dox-method-sign">job.cancelNamedJob(name)</div>
          <div class="dox-module-description">Description: registered UI action - signal to cancel a job - does not force anything</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">name</div>
              <div class="dox-param-description">{String} job name</div>
            </li>
          </ul>
          <div class="dox-module-example">Example: cancelNamedJob(&#x27;main&#x27;);</div>
        </div>
        <div class="dox-method" >
          <a name="job-releasePendingJob"></a>
          <div class="dox-method-sign">job.releasePendingJob(id,answer,options)</div>
          <div class="dox-module-description">Description: registered UI action - release a job pending for user decisions</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">id</div>
              <div class="dox-param-description">{Number} id got from job_pending notification</div>
            </li>
            <li>
              <div class="dox-param-name">answer</div>
              <div class="dox-param-description">{String} action to take - also in job_pending notification</div>
            </li>
            <li>
              <div class="dox-param-name">options</div>
              <div class="dox-param-description">{Object} additional argument to send</div>
            </li>
          </ul>
          <div class="dox-module-example">Example: releasePendingJob(2,&#x27;ignore&#x27;,{});</div>
        </div>
        <div class="dox-method" >
          <a name="job-startNamedJob"></a>
          <div class="dox-method-sign">job.startNamedJob(name,force)</div>
          <div class="dox-module-description">Description: registered UI action</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">name</div>
              <div class="dox-param-description">{String} name of job in ndfile.js</div>
            </li>
            <li>
              <div class="dox-param-name">force</div>
              <div class="dox-param-description">{Boolean} start even if the job was started</div>
            </li>
          </ul>
          <div class="dox-module-return">Returns: parsed value of the property if found</div>
          <div class="dox-module-example">Example: startNamedJob(main&#x27;) will start job &#x27;main&#x27; of the current install stage</div>
        </div>
      </div>
      <div class="dox-jobs">
        <h4>Core job types:</h4>
        <a name="job-copy"></a>
        <div class="dox-job">
          <div class="dox-job-name">copy</div>
          <div class="dox-job-description">copy files/directories job</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">subjobs</div>
              <div class="dox-param-description">{Array}</div>
            </li>
          </ul>
          <div class="dox-job-example">{&#x27;type&#x27;:&#x27;copy&#x27;,&#x27;settings&#x27;:{&#x27;files&#x27;:[ {&#x27;from&#x27;:&#x27;&lt;%&#x3D;user.config.installDir%&gt;/tomcat&#x27;,&#x27;to&#x27;:&#x27;&lt;%&#x3D;user.config.installDir%&gt;/tomcat2&#x27;,&#x27;size&#x27;:109}]}}</div>
        </div>
        <a name="job-multi"></a>
        <div class="dox-job">
          <div class="dox-job-name">multi</div>
          <div class="dox-job-description">run sub jobs one after the other</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">subjobs</div>
              <div class="dox-param-description">{Array}</div>
            </li>
          </ul>
          <div class="dox-job-example">{type:&quot;multi&quot;,settings:{subJobs:[{another-job1},{another-job2}]}</div>
        </div>
        <a name="job-sfx"></a>
        <div class="dox-job">
          <div class="dox-job-name">sfx</div>
          <div class="dox-job-description">extract files compressed into the installer file (mocks by copy during debug) thorw retry error when insufficient premmissions</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">files</div>
              <div class="dox-param-description">{Array} array of objects with properties: from (source of extract), to (destenation) and optionally size:MB to extract for progress estimation</div>
            </li>
          </ul>
          <div class="dox-job-example">settings example 	{&#x27;type&#x27;:&#x27;extract&#x27;,&#x27;settings&#x27;:{&#x27;files&#x27;:[ {&#x27;from&#x27;:&#x27;tomcat&#x27;,&#x27;to&#x27;:&#x27;&lt;%&#x3D;user.config.installDir%&gt;&#x27;,&#x27;size&#x27;:109},
{&#x27;from&#x27;:&#x27;jre&#x27;,&#x27;to&#x27;:&#x27;&lt;%&#x3D;user.config.installDir%&gt;/jre&#x27;,&#x27;size&#x27;:93},
{&#x27;from&#x27;:&#x27;webapp&#x27;,&#x27;to&#x27;:&#x27;&lt;%&#x3D;user.config.installDir%&gt;/webapps/ROOT&#x27;,&#x27;size&#x27;:0}]}}</div>
        </div>
      </div>
    </div>
    <div class="dox-module">
      <a name="notifications"></a>
      <div class="dox-module-name">notifications</div>
      <div class="dox-module-description">push notifications to UI</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="notifications-getNotificationsFromIdx"></a>
          <div class="dox-method-sign">notifications.getNotificationsFromIdx(idx)</div>
          <div class="dox-module-description">Description: registered UI action</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">idx</div>
              <div class="dox-param-description">{Number}</div>
            </li>
          </ul>
          <div class="dox-module-return">Returns: get all notfications starting from this idx</div>
        </div>
        <div class="dox-method" >
          <a name="notifications-pushNotification"></a>
          <div class="dox-method-sign">notifications.pushNotification(name,value)</div>
          <div class="dox-module-description">Description: push notfications to UI and custom listeners</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">name</div>
              <div class="dox-param-description">{String} name of event</div>
            </li>
            <li>
              <div class="dox-param-name">value</div>
              <div class="dox-param-description">{Object} event data</div>
            </li>
          </ul>
          <div class="dox-module-example">Example: pushNotification(&#x27;downloadComplete&#x27;,{package:abc.zip})</div>
        </div>
        <div class="dox-method" >
          <a name="notifications-listenToNotifications"></a>
          <div class="dox-method-sign">notifications.listenToNotifications(listener)</div>
          <div class="dox-module-description">Description: push notfications to a custom listener for easier server side global notifications</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">listener</div>
              <div class="dox-param-description">{Function} will be called with notification full data {name,value,time}</div>
            </li>
          </ul>
          <div class="dox-module-example">Example: listenToNotifications(myCallback)</div>
        </div>
      </div>
    </div>
    <div class="dox-module">
      <a name="pages"></a>
      <div class="dox-module-name">pages</div>
      <div class="dox-module-description">pages handling</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="pages-getPages"></a>
          <div class="dox-method-sign">pages.getPages()</div>
          <div class="dox-module-return">Returns: all pages an their current data for current installation stage</div>
        </div>
      </div>
    </div>
    <div class="dox-module">
      <a name="state"></a>
      <div class="dox-module-name">state</div>
      <div class="dox-module-description">installer stage - holds settings set from the UI</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="state-getSettings"></a>
          <div class="dox-method-sign">state.getSettings(settingsPath,defaultValue)</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">settingsPath</div>
              <div class="dox-param-description">{String} property path of the settings</div>
            </li>
            <li>
              <div class="dox-param-name">defaultValue</div>
              <div class="dox-param-description">{Object} defualt value to be returned of property not found</div>
            </li>
          </ul>
          <div class="dox-module-return">Returns: current value of .settingsPath or defaultValue if not found</div>
        </div>
        <div class="dox-method" >
          <a name="state-setSettings"></a>
          <div class="dox-method-sign">state.setSettings(settingsPath,value)</div>
          <div class="dox-module-description">Description: setUserSettings ui actions calls this function with .user prefix. this functions set current state</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">settingsPath</div>
              <div class="dox-param-description">{String} name of event</div>
            </li>
            <li>
              <div class="dox-param-name">value</div>
              <div class="dox-param-description">{Object}</div>
            </li>
          </ul>
        </div>
        <div class="dox-method" >
          <a name="state-parseTemplate"></a>
          <div class="dox-method-sign">state.parseTemplate(str)</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">str</div>
              <div class="dox-param-description">{String} name of event</div>
            </li>
          </ul>
          <div class="dox-module-return">Returns: lodash template parsed value of str according to current state</div>
        </div>
      </div>
    </div>
    <div class="dox-module">
      <a name="state"></a>
      <div class="dox-module-name">state</div>
      <div class="dox-module-description">installer stage - holds settings set from the UI</div>
      <div class="dox-methods">
        <div class="dox-method" >
          <a name="state-getRegisteredActions"></a>
          <div class="dox-method-sign">state.getRegisteredActions()</div>
          <div class="dox-module-description">Description: get currently registered UI actions</div>
          <div class="dox-module-return">Returns: mapping action-name -&gt; array of param-names</div>
        </div>
        <div class="dox-method" >
          <a name="state-registerAction"></a>
          <div class="dox-method-sign">state.registerAction(name,paramNames,action)</div>
          <div class="dox-module-description">Description: register a new UI action</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">name</div>
              <div class="dox-param-description">{String} name of event</div>
            </li>
            <li>
              <div class="dox-param-name">paramNames</div>
              <div class="dox-param-description">{Array} array of paramerter names</div>
            </li>
            <li>
              <div class="dox-param-name">action</div>
              <div class="dox-param-description">{Function} callback of action( could be syncronous or retrun a pormise)</div>
            </li>
          </ul>
          <div class="dox-module-example">Example: rregisterAction(&#x27;notifications_getNotificationsFromIdx&#x27;,[&#x27;idx&#x27;],getNotificationsFromIdx)</div>
        </div>
        <div class="dox-method" >
          <a name="state-pushNotification"></a>
          <div class="dox-method-sign">state.pushNotification(name,value)</div>
          <div class="dox-module-description">Description: push notfications to UI</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">name</div>
              <div class="dox-param-description">{String} name of event</div>
            </li>
            <li>
              <div class="dox-param-name">value</div>
              <div class="dox-param-description">{Object} sevent data</div>
            </li>
          </ul>
          <div class="dox-module-example">Example: pushNotification(&#x27;downloadComplete&#x27;,{package:abc.zip})</div>
        </div>
        <div class="dox-method" >
          <a name="state-getSortedByDepends"></a>
          <div class="dox-method-sign">state.getSortedByDepends(moduleLoaders)</div>
          Parameters:
          <ul class="dox-method-params">
            <li>
              <div class="dox-param-name">moduleLoaders</div>
              <div class="dox-param-description">array of moduleLoader s</div>
            </li>
          </ul>
          <div class="dox-module-return">Returns: array of module loaders topologically sorted by dependencies(dependencies comes before dependents)</div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end rendered automatically-->

<!--end-main-->
                            </div>
                          </div>
                        </div>

                        <script src="js/prism.js"></script>
                        <script>
                        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                        ga('create', 'UA-70857627-1', 'auto');
                        ga('send', 'pageview');

                        </script>
                      </body>

                      </html>
